# ==============================================
# CRYB PLATFORM - PRODUCTION ENVIRONMENT
# ==============================================
# Production environment variables for secure deployment
# IMPORTANT: Change all default passwords before deployment!
# ==============================================

# ==============================================
# DEPLOYMENT METADATA
# ==============================================
BUILD_DATE=$(date -u +'%Y-%m-%dT%H:%M:%SZ')
VCS_REF=$(git rev-parse --short HEAD 2>/dev/null || echo "unknown")
VERSION=1.0.0

# ==============================================
# APPLICATION CONFIGURATION
# ==============================================

# Frontend (Next.js)
WEB_PORT=3000
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_WS_URL=ws://localhost:3001
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_LIVEKIT_URL=wss://localhost:7880
NEXT_PUBLIC_CDN_URL=http://localhost:9000

# Features
NEXT_PUBLIC_ENABLE_WEB3=true
NEXT_PUBLIC_ENABLE_VOICE=true
NEXT_PUBLIC_ENABLE_UPLOADS=true

# Backend API
API_PORT=3001
NODE_ENV=production

# ==============================================
# SECURITY CONFIGURATION
# ==============================================

# Authentication & JWT
JWT_SECRET=your-super-secure-jwt-secret-key-change-this-in-production-2024
NEXTAUTH_SECRET=your-super-secure-nextauth-secret-change-this-in-production-2024
NEXTAUTH_URL=http://localhost:3000

# Security Features
TRUST_PROXY=true
SECURE_COOKIES=true

# Rate Limiting
RATE_LIMIT_MAX_REQUESTS=200
RATE_LIMIT_WINDOW_MS=60000
BRUTE_FORCE_MAX_ATTEMPTS=3
BRUTE_FORCE_BLOCK_DURATION=1800000
DDOS_MAX_CONNECTIONS=200
DDOS_MAX_REQUESTS_PER_SECOND=50

# ==============================================
# DATABASE CONFIGURATION
# ==============================================

# PostgreSQL (TimescaleDB)
POSTGRES_USER=cryb_user
POSTGRES_PASSWORD=cryb_secure_database_password_2024_change_this
POSTGRES_DB=cryb
POSTGRES_PORT=5432

# Redis Cache
REDIS_PASSWORD=cryb_secure_redis_password_2024_change_this
REDIS_PORT=6379

# ==============================================
# EXTERNAL SERVICES
# ==============================================

# MinIO Object Storage
MINIO_ACCESS_KEY=cryb_minio_admin
MINIO_SECRET_KEY=cryb_secure_minio_password_2024_change_this
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# Elasticsearch
ELASTICSEARCH_PORT=9200

# LiveKit (Voice/Video)
LIVEKIT_API_KEY=devkey-change-in-production
LIVEKIT_API_SECRET=devsecret-change-in-production
LIVEKIT_PORT=7880
LIVEKIT_RTC_PORT_RANGE=50000-50100

# ==============================================
# FILE UPLOAD CONFIGURATION
# ==============================================
MAX_FILE_SIZE=104857600
MAX_FILES_PER_REQUEST=10

# ==============================================
# FEATURE FLAGS
# ==============================================
ENABLE_WEB3=true
ENABLE_VOICE_VIDEO=true
ENABLE_FILE_UPLOADS=true
ENABLE_REAL_TIME=true
ENABLE_SEARCH=true
ENABLE_ANALYTICS=true

# ==============================================
# MONITORING CONFIGURATION
# ==============================================

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3002
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_this_grafana_password_2024
GRAFANA_ROOT_URL=http://localhost:3002

# ==============================================
# PRODUCTION DEPLOYMENT NOTES
# ==============================================
# 
# Before deploying to production:
# 
# 1. CHANGE ALL PASSWORDS AND SECRETS:
#    - JWT_SECRET
#    - NEXTAUTH_SECRET
#    - POSTGRES_PASSWORD
#    - REDIS_PASSWORD
#    - MINIO_SECRET_KEY
#    - LIVEKIT_API_KEY and LIVEKIT_API_SECRET
#    - GRAFANA_ADMIN_PASSWORD
# 
# 2. UPDATE DOMAIN CONFIGURATION:
#    - Set proper domain names in NEXT_PUBLIC_API_URL
#    - Update NEXTAUTH_URL with your domain
#    - Configure SSL certificates in nginx
# 
# 3. SECURITY CONSIDERATIONS:
#    - Use strong, unique passwords (20+ characters)
#    - Enable SSL/TLS in production
#    - Configure proper firewall rules
#    - Regularly update Docker images
# 
# 4. SCALING CONSIDERATIONS:
#    - Monitor resource usage and scale accordingly
#    - Configure load balancing for high availability
#    - Set up proper backup and disaster recovery
# 
# 5. MONITORING:
#    - Set up alerts for critical metrics
#    - Monitor logs for security incidents
#    - Configure external uptime monitoring
# 
# ==============================================