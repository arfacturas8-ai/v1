# ==============================================
# CRYB DISCORD-LIKE API - ENVIRONMENT CONFIGURATION
# ==============================================

# Application Configuration
NODE_ENV=development
PORT=3001
HOST=0.0.0.0
API_HOST=localhost:3001
LOG_LEVEL=info

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3002,http://localhost:3003
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:3001

# Database Configuration
DATABASE_URL=postgresql://cryb_user:cryb_password@localhost:5433/cryb?schema=public&connection_limit=20&pool_timeout=20&connect_timeout=20

# Redis Configuration
REDIS_URL=redis://:cryb_redis_password@localhost:6380/0
REDIS_HOST=localhost
REDIS_PORT=6380
REDIS_PASSWORD=cryb_redis_password

# JWT Authentication
JWT_SECRET=your-super-secure-jwt-secret-key-change-in-production
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_EXPIRES_IN=30d

# Web3/SIWE Configuration
SIWE_DOMAIN=localhost:3000
ETHEREUM_RPC_URL=https://mainnet.infura.io/v3/your-infura-key
POLYGON_RPC_URL=https://polygon-mainnet.infura.io/v3/your-infura-key

# MinIO/S3 Configuration
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_USE_SSL=false
MINIO_DEFAULT_BUCKET=cryb-uploads
CDN_BASE_URL=

# Elasticsearch Configuration
ELASTICSEARCH_URL=http://localhost:9201
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# LiveKit Configuration (Voice/Video)
LIVEKIT_URL=ws://localhost:7880
LIVEKIT_API_KEY=devkey
LIVEKIT_API_SECRET=secret

# External Services
WEBHOOK_URL=
DISCORD_WEBHOOK_URL=
SLACK_WEBHOOK_URL=

# Security Configuration
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
BRUTE_FORCE_MAX_ATTEMPTS=5
BRUTE_FORCE_BLOCK_DURATION=900000
DDOS_MAX_CONNECTIONS=100
DDOS_MAX_REQUESTS_PER_SECOND=20

# Monitoring & Alerting
ENABLE_METRICS=true
METRICS_RETENTION_DAYS=30
ERROR_THRESHOLD_PER_MINUTE=10
RESPONSE_TIME_THRESHOLD_MS=5000
ENABLE_TRACING=true
TRACE_SAMPLE_RATE=0.1

# File Upload Configuration
MAX_FILE_SIZE=104857600
MAX_FILES_PER_REQUEST=10
ALLOWED_MIME_TYPES=image/*,video/*,audio/*,application/pdf,text/plain

# Cache Configuration
ENABLE_QUERY_CACHING=true
DEFAULT_CACHE_TTL=300000
MAX_CACHE_SIZE=1000

# Feature Flags
ENABLE_WEB3=true
ENABLE_VOICE_VIDEO=true
ENABLE_FILE_UPLOADS=true
ENABLE_REAL_TIME=true
ENABLE_SEARCH=true
ENABLE_ANALYTICS=true

# Development Tools
ENABLE_SWAGGER_UI=true
ENABLE_GRAPHQL_PLAYGROUND=false
ENABLE_DEBUG_LOGGING=false

# Production Security
HELMET_CONTENT_SECURITY_POLICY=false
TRUST_PROXY=true
SECURE_COOKIES=false

# Email Configuration (Optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@cryb.ai

# Push Notifications (Optional)
FIREBASE_SERVER_KEY=
APPLE_PUSH_KEY_ID=
APPLE_PUSH_TEAM_ID=
APPLE_PUSH_BUNDLE_ID=

# Analytics (Optional)
GOOGLE_ANALYTICS_ID=
MIXPANEL_TOKEN=
SEGMENT_WRITE_KEY=

# ==============================================
# PRODUCTION ENVIRONMENT OVERRIDES
# ==============================================

# For production, override these values:
# NODE_ENV=production
# LOG_LEVEL=warn
# SECURE_COOKIES=true
# HELMET_CONTENT_SECURITY_POLICY=true
# JWT_SECRET=generate-a-very-secure-random-secret
# DATABASE_URL=postgresql://user:password@production-host:5432/production-db
# REDIS_URL=redis://user:password@production-host:6379/0
# ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# ==============================================
# DOCKER ENVIRONMENT VARIABLES
# ==============================================

# When running in Docker, these will be automatically set:
# DATABASE_URL=postgresql://cryb_user:cryb_password@postgres:5432/cryb
# REDIS_URL=redis://:cryb_redis_password@redis:6379/0
# ELASTICSEARCH_URL=http://elasticsearch:9200
# MINIO_ENDPOINT=minio
# LIVEKIT_URL=ws://livekit:7880